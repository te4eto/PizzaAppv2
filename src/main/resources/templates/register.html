<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Register</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.2/css/bootstrap.min.css}" />
</head>
<body>
<th:block th:replace="~{fragments :: navbar(activePage='register')}"></th:block>

<div class="container mt-5 pt-5">
    <div class="register-card mx-auto p-4 shadow rounded" style="max-width: 450px;">
        <div class="text-center mb-3">
            <h1 class="h3">Register</h1>
        </div>

        <!-- Error message for general errors -->
        <div th:if="${error}" class="alert alert-danger text-center">
            <span th:text="${error}"></span>
        </div>

        <form th:action="@{/register}" th:object="${user}" method="post">
            <!-- Username -->
            <div class="mb-3">
                <label class="form-label">Username</label>
                <input type="text" th:field="*{username}" class="form-control"
                       required minlength="4" placeholder="Enter your username" />
                <small class="text-danger" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></small>
            </div>

            <!-- Password -->
            <div class="mb-3">
                <label class="form-label">Password</label>
                <input type="password" th:field="*{password}" class="form-control"
                       required minlength="6" placeholder="Enter a strong password" />
                <small class="text-danger" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></small>
            </div>

            <!-- Phone Number -->
            <div class="mb-3">
                <label class="form-label">Phone</label>
                <input type="text" th:field="*{phoneNumber}" class="form-control"
                       required pattern="^[0-9]{10}$" placeholder="10-digit phone number" />
                <small class="text-danger" th:if="${#fields.hasErrors('phoneNumber')}" th:errors="*{phoneNumber}"></small>
            </div>

            <!-- Full Name -->
            <div class="mb-3">
                <label class="form-label">Full Name</label>
                <input type="text" th:field="*{fullName}" class="form-control"
                       required placeholder="Enter your full name" />
                <small class="text-danger" th:if="${#fields.hasErrors('fullName')}" th:errors="*{fullName}"></small>
            </div>

            <!-- Street -->
            <div class="mb-3">
                <label class="form-label">Street</label>
                <input type="text" th:field="*{street}" class="form-control"
                       required placeholder="Enter your street address" />
                <small class="text-danger" th:if="${#fields.hasErrors('street')}" th:errors="*{street}"></small>
            </div>

            <!-- City -->
            <div class="mb-3">
                <label class="form-label">City</label>
                <input type="text" th:field="*{city}" class="form-control"
                       required placeholder="Enter your city" />
                <small class="text-danger" th:if="${#fields.hasErrors('city')}" th:errors="*{city}"></small>
            </div>

            <!-- Postal Code -->
            <div class="mb-3">
                <label class="form-label">Postal Code</label>
                <input type="text" th:field="*{postalCode}" class="form-control"
                       required pattern="^[0-9]{4}$" placeholder="4-digit postal code" />
                <small class="text-danger" th:if="${#fields.hasErrors('postalCode')}" th:errors="*{postalCode}"></small>
            </div>

            <!-- Country -->
            <div class="mb-3">
                <label class="form-label">Country</label>
                <input type="text" th:field="*{country}" class="form-control"
                       required placeholder="Enter your country" />
                <small class="text-danger" th:if="${#fields.hasErrors('country')}" th:errors="*{country}"></small>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary w-100">Register</button>

            <!-- Login Link -->
            <p class="text-center mt-3"><a href="/login" class="btn btn-link">Already have an account? Login</a></p>
        </form>
    </div>
</div>

<script th:src="@{/webjars/bootstrap/5.3.2/js/bootstrap.bundle.min.js}"></script>
</body>
</html>
